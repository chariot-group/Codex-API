{
  "openapi": "3.0.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "App"
        ]
      }
    },
    "/spells": {
      "get": {
        "operationId": "SpellsController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of items to return",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 10,
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "sort",
            "required": false,
            "in": "query",
            "description": "Sort field (prefix with '-' for descending order)",
            "schema": {
              "example": "-createdAt",
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "Filter spells by name",
            "schema": {
              "example": "Fireball",
              "type": "string"
            }
          },
          {
            "name": "lang",
            "required": false,
            "in": "query",
            "description": "Filter by language code (ISO 2 code)",
            "schema": {
              "example": "en",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Spells found successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IPaginatedResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Spell"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "summary": "Get a collection of paginated spells",
        "tags": [
          "Spells"
        ]
      },
      "post": {
        "operationId": "SpellsController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSpellDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Spell created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Spell"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Validation DTO failed",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "example": {
                        "message": [
                          "spellContent.description must be a string",
                          "spellContent.level must be a number conforming to the specified constraints"
                        ],
                        "statusCode": 400,
                        "error": "Bad Request"
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "summary": "Create a new spell",
        "tags": [
          "Spells"
        ]
      }
    },
    "/spells/{id}": {
      "get": {
        "operationId": "SpellsController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the spell to update",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          },
          {
            "name": "lang",
            "required": true,
            "in": "path",
            "description": "The ISO 2 code of translation",
            "schema": {
              "example": "en",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Spell found successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Spell"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Error while fetching spell #ID: Id is not a valid mongoose id"
          },
          "404": {
            "description": "Spell #ID not found"
          },
          "410": {
            "description": "Spell #ID has been deleted"
          }
        },
        "summary": "Get a spell by ID",
        "tags": [
          "Spells"
        ]
      },
      "patch": {
        "operationId": "SpellsController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the spell to retrieve",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateSpellDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Spell updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Spell"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Validation DTO failed",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "example": {
                        "message": [
                          "tag must be a number conforming to the specified constraints"
                        ],
                        "statusCode": 400,
                        "error": "Bad Request"
                      }
                    }
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Spell #ID not found"
          },
          "410": {
            "description": "Spell #ID has been deleted"
          }
        },
        "summary": "Update a spell by ID",
        "tags": [
          "Spells"
        ]
      },
      "delete": {
        "operationId": "SpellsController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the spell to delete",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Spell #ID deleted",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Spell"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Error while fetching spell #ID: Id is not a valid mongoose id"
          },
          "404": {
            "description": "Spell #ID not found"
          },
          "410": {
            "description": "Spell #ID has been deleted"
          }
        },
        "summary": "Delete a spell by ID",
        "tags": [
          "Spells"
        ]
      }
    },
    "/monsters": {
      "get": {
        "operationId": "MonstersController_findAll",
        "parameters": [
          {
            "name": "page",
            "required": false,
            "in": "query",
            "description": "Page number",
            "schema": {
              "minimum": 1,
              "default": 1,
              "example": 1,
              "type": "number"
            }
          },
          {
            "name": "offset",
            "required": false,
            "in": "query",
            "description": "Number of items to return",
            "schema": {
              "minimum": 1,
              "maximum": 100,
              "default": 10,
              "example": 10,
              "type": "number"
            }
          },
          {
            "name": "sort",
            "required": false,
            "in": "query",
            "description": "Sort field (prefix with '-' for descending order)",
            "schema": {
              "example": "-createdAt",
              "type": "string"
            }
          },
          {
            "name": "name",
            "required": false,
            "in": "query",
            "description": "Filter monsters by name",
            "schema": {
              "example": "Goblin",
              "type": "string"
            }
          },
          {
            "name": "lang",
            "required": false,
            "in": "query",
            "description": "Filter by language code (ISO 2 code)",
            "schema": {
              "example": "en",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Monsters found successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IPaginatedResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Monster"
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "summary": "Get a collection of paginated monsters",
        "tags": [
          "Monsters"
        ]
      }
    },
    "/monsters/{id}": {
      "get": {
        "operationId": "MonstersController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "The ID of the monster to update",
            "schema": {
              "example": "507f1f77bcf86cd799439011",
              "type": "string"
            }
          },
          {
            "name": "lang",
            "required": true,
            "in": "path",
            "description": "The ISO 2 code of translation",
            "schema": {
              "example": "en",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Monster found successfully",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/IResponse"
                    },
                    {
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Monster"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Error while fetching monster #ID: Id is not a valid mongoose id"
          },
          "404": {
            "description": "Monster #ID not found"
          },
          "410": {
            "description": "Monster #ID has been deleted"
          }
        },
        "summary": "Get a monster by ID",
        "tags": [
          "Monsters"
        ]
      }
    }
  },
  "info": {
    "title": "Codex API",
    "description": "Codex API Documentation",
    "version": "0.0.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "securitySchemes": {
      "bearer": {
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "type": "http"
      }
    },
    "schemas": {
      "SpellContent": {
        "type": "object",
        "properties": {
          "srd": {
            "type": "boolean",
            "example": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "example": null
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "example": "2025-11-13T07:32:03.191Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "example": "2025-11-13T07:32:03.191Z"
          },
          "name": {
            "type": "string",
            "example": "Fireball"
          },
          "level": {
            "type": "number",
            "example": 3
          },
          "school": {
            "type": "string",
            "example": "Evocation"
          },
          "description": {
            "type": "string",
            "example": "A bright streak flares from your pointing finger..."
          },
          "components": {
            "example": [
              "V",
              "S",
              "M"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "castingTime": {
            "type": "string",
            "example": "1 action"
          },
          "duration": {
            "type": "string",
            "example": "Instantaneous"
          },
          "range": {
            "type": "string",
            "example": "150 feet"
          },
          "effectType": {
            "type": "number",
            "example": 0
          },
          "damage": {
            "type": "string",
            "example": "8d6"
          },
          "healing": {
            "type": "string",
            "example": null
          }
        },
        "required": [
          "srd",
          "deletedAt",
          "createdAt",
          "updatedAt",
          "name",
          "level",
          "school",
          "description",
          "components",
          "castingTime",
          "duration",
          "range",
          "effectType",
          "damage",
          "healing"
        ]
      },
      "Spell": {
        "type": "object",
        "properties": {
          "tag": {
            "type": "number",
            "example": 1
          },
          "languages": {
            "example": [
              "en"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "translations": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/SpellContent"
            }
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "example": null
          }
        },
        "required": [
          "tag",
          "languages",
          "translations",
          "deletedAt"
        ]
      },
      "IResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Spell #507f1f77bcf86cd799439011 found in 5ms"
          },
          "data": {
            "type": "object"
          }
        },
        "required": [
          "message",
          "data"
        ]
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "page": {
            "type": "number",
            "example": 1
          },
          "offset": {
            "type": "number",
            "example": 10
          },
          "totalItems": {
            "type": "number",
            "example": 100
          }
        },
        "required": [
          "page",
          "offset",
          "totalItems"
        ]
      },
      "IPaginatedResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Spell #507f1f77bcf86cd799439011 found in 5ms"
          },
          "data": {
            "type": "object"
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationMeta"
          }
        },
        "required": [
          "message",
          "data",
          "pagination"
        ]
      },
      "UpdateSpellDto": {
        "type": "object",
        "properties": {
          "tag": {
            "type": "number",
            "example": 1,
            "description": "0: Homebrew, 1: Certified by Chariot",
            "enum": [
              0,
              1
            ]
          }
        },
        "required": [
          "tag"
        ]
      },
      "CreateSpellContentDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Fireball"
          },
          "description": {
            "type": "string",
            "example": "A bright streak flashes from your pointing finger to a point you choose within range."
          },
          "level": {
            "type": "number",
            "example": 3
          },
          "school": {
            "type": "string",
            "example": "Evocation"
          },
          "castingTime": {
            "type": "string",
            "example": "1 action"
          },
          "range": {
            "type": "string",
            "example": "150 feet"
          },
          "components": {
            "example": [
              "V",
              "S",
              "M"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "duration": {
            "type": "string",
            "example": "Instantaneous"
          },
          "effectType": {
            "type": "number",
            "example": 1
          },
          "damage": {
            "type": "string",
            "example": "8d6"
          },
          "healing": {
            "type": "string",
            "example": "Heal 4d8 + spellcasting modifier"
          }
        },
        "required": [
          "name",
          "description",
          "level",
          "school",
          "castingTime",
          "range",
          "components",
          "duration",
          "effectType",
          "damage",
          "healing"
        ]
      },
      "CreateSpellDto": {
        "type": "object",
        "properties": {
          "lang": {
            "type": "string",
            "example": "en"
          },
          "spellContent": {
            "$ref": "#/components/schemas/CreateSpellContentDto"
          }
        },
        "required": [
          "lang",
          "spellContent"
        ]
      },
      "Speed": {
        "type": "object",
        "properties": {
          "walk": {
            "type": "number",
            "example": 30
          },
          "climb": {
            "type": "number",
            "example": 20
          },
          "swim": {
            "type": "number",
            "example": 15
          },
          "fly": {
            "type": "number",
            "example": 60
          },
          "burrow": {
            "type": "number",
            "example": 10
          }
        },
        "required": [
          "walk",
          "climb",
          "swim",
          "fly",
          "burrow"
        ]
      },
      "AbilityScores": {
        "type": "object",
        "properties": {
          "strength": {
            "type": "number",
            "example": 8
          },
          "dexterity": {
            "type": "number",
            "example": 18
          },
          "constitution": {
            "type": "number",
            "example": 14
          },
          "intelligence": {
            "type": "number",
            "example": 12
          },
          "wisdom": {
            "type": "number",
            "example": 10
          },
          "charisma": {
            "type": "number",
            "example": 14
          }
        },
        "required": [
          "strength",
          "dexterity",
          "constitution",
          "intelligence",
          "wisdom",
          "charisma"
        ]
      },
      "SavingThrows": {
        "type": "object",
        "properties": {
          "strength": {
            "type": "number",
            "example": -1
          },
          "dexterity": {
            "type": "number",
            "example": 4
          },
          "constitution": {
            "type": "number",
            "example": 2
          },
          "intelligence": {
            "type": "number",
            "example": 1
          },
          "wisdom": {
            "type": "number",
            "example": 0
          },
          "charisma": {
            "type": "number",
            "example": 2
          }
        },
        "required": [
          "strength",
          "dexterity",
          "constitution",
          "intelligence",
          "wisdom",
          "charisma"
        ]
      },
      "Skills": {
        "type": "object",
        "properties": {
          "athletics": {
            "type": "number",
            "example": 3
          },
          "acrobatics": {
            "type": "number",
            "example": 2
          },
          "sleightHand": {
            "type": "number",
            "example": 3
          },
          "stealth": {
            "type": "number",
            "example": -1
          },
          "arcana": {
            "type": "number",
            "example": 0
          },
          "history": {
            "type": "number",
            "example": 5
          },
          "investigation": {
            "type": "number",
            "example": 2
          },
          "nature": {
            "type": "number",
            "example": 0
          },
          "religion": {
            "type": "number",
            "example": 7
          },
          "animalHandling": {
            "type": "number",
            "example": 3
          },
          "insight": {
            "type": "number",
            "example": -1
          },
          "medicine": {
            "type": "number",
            "example": 1
          },
          "perception": {
            "type": "number",
            "example": 7
          },
          "survival": {
            "type": "number",
            "example": 2
          },
          "deception": {
            "type": "number",
            "example": 2
          },
          "intimidation": {
            "type": "number",
            "example": 2
          },
          "performance": {
            "type": "number",
            "example": 1
          },
          "persuasion": {
            "type": "number",
            "example": 2
          }
        },
        "required": [
          "athletics",
          "acrobatics",
          "sleightHand",
          "stealth",
          "arcana",
          "history",
          "investigation",
          "nature",
          "religion",
          "animalHandling",
          "insight",
          "medicine",
          "perception",
          "survival",
          "deception",
          "intimidation",
          "performance",
          "persuasion"
        ]
      },
      "Sense": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "darkvision"
          },
          "value": {
            "type": "number",
            "example": 60
          }
        },
        "required": [
          "name",
          "value"
        ]
      },
      "Stats": {
        "type": "object",
        "properties": {
          "size": {
            "type": "number",
            "example": 3
          },
          "maxHitPoints": {
            "type": "number",
            "example": 100
          },
          "currentHitPoints": {
            "type": "number",
            "example": 95
          },
          "tempHitPoints": {
            "type": "number",
            "example": 7
          },
          "armorClass": {
            "type": "number",
            "example": 15
          },
          "speed": {
            "$ref": "#/components/schemas/Speed"
          },
          "abilityScores": {
            "$ref": "#/components/schemas/AbilityScores"
          },
          "languages": {
            "example": [
              "Common",
              "Elvish"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "passivePerception": {
            "type": "number",
            "example": 12
          },
          "savingThrows": {
            "$ref": "#/components/schemas/SavingThrows"
          },
          "skills": {
            "$ref": "#/components/schemas/Skills"
          },
          "senses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sense"
            }
          }
        },
        "required": [
          "size",
          "maxHitPoints",
          "currentHitPoints",
          "tempHitPoints",
          "armorClass",
          "speed",
          "abilityScores",
          "languages",
          "passivePerception",
          "savingThrows",
          "skills",
          "senses"
        ]
      },
      "Affinities": {
        "type": "object",
        "properties": {}
      },
      "Ability": {
        "type": "object",
        "properties": {}
      },
      "Spellcasting": {
        "type": "object",
        "properties": {}
      },
      "Actions": {
        "type": "object",
        "properties": {}
      },
      "Challenge": {
        "type": "object",
        "properties": {}
      },
      "Profile": {
        "type": "object",
        "properties": {}
      },
      "MonsterContent": {
        "type": "object",
        "properties": {
          "srd": {
            "type": "boolean",
            "example": true
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "example": null
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "example": "2025-11-13T07:32:03.475Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "example": "2025-11-13T07:32:03.475Z"
          },
          "name": {
            "type": "string",
            "example": "Goblin"
          },
          "stats": {
            "$ref": "#/components/schemas/Stats"
          },
          "affinities": {
            "$ref": "#/components/schemas/Affinities"
          },
          "abilities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Ability"
            }
          },
          "spellcasting": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Spellcasting"
            }
          },
          "actions": {
            "$ref": "#/components/schemas/Actions"
          },
          "challenge": {
            "$ref": "#/components/schemas/Challenge"
          },
          "profile": {
            "$ref": "#/components/schemas/Profile"
          }
        },
        "required": [
          "srd",
          "deletedAt",
          "createdAt",
          "updatedAt",
          "name",
          "stats",
          "affinities",
          "abilities",
          "spellcasting",
          "actions",
          "challenge"
        ]
      },
      "Monster": {
        "type": "object",
        "properties": {
          "tag": {
            "type": "number",
            "example": 1
          },
          "languages": {
            "example": [
              "en"
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "translations": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/MonsterContent"
            }
          },
          "deletedAt": {
            "format": "date-time",
            "type": "string",
            "example": null
          }
        },
        "required": [
          "tag",
          "languages",
          "translations",
          "deletedAt"
        ]
      }
    }
  }
}